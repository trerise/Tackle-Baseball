import fs from"fs";let season;class GameStats{constructor(e){this[e[0].name]={name:e[0].name,number:e[0].number,pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0},this[e[1].name]={name:e[1].name,number:e[1].number,pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0},this[e[2].name]={name:e[2].name,number:e[2].number,pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0},this[e[3].name]={name:e[3].name,number:e[3].number,pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0},this[e[4].name]={name:e[4].name,number:e[4].number,pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0},this[e[5].name]={name:e[5].name,number:e[5].number,pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0},this[e[6].name]={name:e[6].name,number:e[6].number,pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0},this[e[7].name]={name:e[7].name,number:e[7].number,pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0},this[e[8].name]={name:e[8].name,number:e[8].number,pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0},this[e[9].name]={name:e[9].name,number:e[9].number,pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0},this[e[10].name]={name:e[10].name,number:e[10].number,pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0},this[e[11].name]={name:e[11].name,number:e[11].number,pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0}}}let nameExp=new RegExp(/name: (.+)/),powerEx=new RegExp(/power: \d+/),speedEx=new RegExp(/speed: \d+/),eyeEx=new RegExp(/eye: \d+/),tackleEx=new RegExp(/tackle: \d+/),breaktackleEx=new RegExp(/breaktackle: \d+/),blockEx=new RegExp(/block: \d+/),breakblockEx=new RegExp(/breakblock: \d+/),awarenessEx=new RegExp(/awareness: \d+/),ageEx=new RegExp(/age: \d+/),potentialEx=new RegExp(/potential: \w+/),ratingEx=new RegExp(/\d+/),potrateEx=new RegExp(/[A-F]|Star/),rosterEx=new RegExp(/roster:(.+)stats/g),rosterExNG=new RegExp(/\s\s\s\s\s?(.+)/),regionEx=new RegExp(/region: (\w+)/),oshkosh2Ex=new RegExp(/\s\s\s\s\s\s(.+)/),pointsEx=new RegExp(/Points Scored: (\d+)/),assistsEx=new RegExp(/Assists: (\d+)/),assistpointsEx=new RegExp(/Assist Points: (\d+)/),brokentacklesEx=new RegExp(/Broken Tackles: (\d+)/),ballsfieldedoffEx=new RegExp(/Balls Fielded \(OFF\): (\d+)/),blocksEx=new RegExp(/Blocks: (\d+)/),turnoversEx=new RegExp(/Turnovers: (\d+)/),pitchesEx=new RegExp(/Pitches: (\d+)/),strikesEx=new RegExp(/Strikes: (\d+)/),ballsEx=new RegExp(/Balls: (\d+)/),foulsEx=new RegExp(/Fouls: (\d+)/),strikeoutspitchingEx=new RegExp(/Strikeouts Pitching: (\d+)/),balloutsEx=new RegExp(/Ballouts: (\d+)/),slamsgivenEx=new RegExp(/Slams Given: (\d+)/),slamsEx=new RegExp(/Slams: (\d+)/),hitstooutEx=new RegExp(/Hits to Out: (\d+)/),hitstooffenseEx=new RegExp(/Hits to Offense: (\d+)/),fouloutsEx=new RegExp(/Foulouts: (\d+)/),strikeoutsbattingEx=new RegExp(/Strikeouts Batting: (\d+)/),tacklesEx=new RegExp(/(?<!Broken )Tackles: (\d+)/),blocksshedEx=new RegExp(/Blocks Shed: (\d+)/),interceptionsEx=new RegExp(/Interceptions: (\d+)/),ballsfieldeddefEx=new RegExp(/Balls Fielded \(DEF\): (\d+)/),totaloutsrecordedEx=new RegExp(/Total Outs Recorded: (\d+)/),atbatsEx=new RegExp(/At-Bats: (\d+)/),hitsEx=new RegExp(/Hits: (\d+)/),statsEx=[pointsEx,assistsEx,assistpointsEx,brokentacklesEx,ballsfieldedoffEx,blocksEx,turnoversEx,pitchesEx,strikesEx,ballsEx,foulsEx,strikeoutspitchingEx,balloutsEx,slamsgivenEx,atbatsEx,hitsEx,slamsEx,hitstooutEx,hitstooffenseEx,fouloutsEx,strikeoutsbattingEx,tacklesEx,blocksshedEx,interceptionsEx,ballsfieldeddefEx,totaloutsrecordedEx],statStrings=["Points Scored","Assists","Assist Points","Broken Tackles","Balls Fielded (OFF)","Blocks","Turnovers","Pitches","Strikes","Balls","Fouls","Strikeouts Pitching","Ballouts","Slams Given","At-Bats","Hits","Slams","Hits to Out","Hits to Offense","Foulouts","Strikeouts Batting","Tackles","Blocks Shed","Interceptions","Balls Fielded (DEF)","Total Outs Recorded"];function playerToObject(e,s=null){let t,o={name:null,number:0,power:null,speed:null,eye:null,tackle:null,breaktackle:null,block:null,breakblock:null,awareness:null,age:null,potential:null};t=null==s?fs.readFileSync(`./dist/src/players/active/${e}.txt`,"utf8",((t,o)=>{t&&fs.readFileSync(`./dist/src/players/free agents/${s}/  ${e}.txt`,"utf8")})):fs.readFileSync(`./dist/src/players/free agents/${s}/${e}.txt`,"utf8");let l=new RegExp(/(.+) (\d+)/);null!==l.exec(e)&&(o.number=l.exec(e)[2],e=l.exec(e)[1]);let i=new RegExp(`${e}`);return o.name=i.exec(t)[0],o.power=Number(ratingEx.exec(powerEx.exec(t)[0])),o.speed=Number(ratingEx.exec(speedEx.exec(t)[0])),o.eye=Number(ratingEx.exec(eyeEx.exec(t)[0])),o.tackle=Number(ratingEx.exec(tackleEx.exec(t)[0])),o.breaktackle=Number(ratingEx.exec(breaktackleEx.exec(t)[0])),o.block=Number(ratingEx.exec(blockEx.exec(t)[0])),o.breakblock=Number(ratingEx.exec(breakblockEx.exec(t)[0])),o.awareness=Number(ratingEx.exec(awarenessEx.exec(t)[0])),o.age=Number(ratingEx.exec(ageEx.exec(t)[0])),o.potential=potrateEx.exec(potentialEx.exec(t)[0])[0],o}function teamToObject(e){let s={name:null,region:null,roster:[]},t=fs.readFileSync(`./dist/src/teams/${e}.txt`,"utf8",((e,s)=>{e&&console.error(e)})),o=new RegExp("roster:[^]*stats").exec(t)[0];o=o.replace("roster:",""),o=o.replace("stats","");let l=new RegExp(/\S.*\S/g),i=o.match(l),a=[],r=[];if(null==i)[],r=[];else{i.length>6&&(i=i.slice(0,6));for(let s=0;s<i.length;s++)"Season 2023"==i[s]&&console.log(e),r.push(playerToObject(`${i[s]}`))}return s.region=regionEx.exec(t)[1],s.name=`${e}`,s.roster=r,s}function updateStats(e,s){try{let t,o=new RegExp(`[^]*Season ${s.toString()}:`),l=new RegExp(`Season ${s.toString()}:[^]*Total Outs Recorded: .?.?.?.?`),i=Object.keys(e);for(let a=0;a<i.length;a++){let r=i[a];0!==e[i[a]].number&&(r=i[a]+` ${e[i[a]].number}`),t=fs.readFileSync(`./dist/src/players/active/${r}.txt`,"utf8",((e,s)=>{e&&console.error(e)}));let n=Object.keys(e[i[a]]),c=o.exec(t)[0];c=c.replace(`Season ${s}:`,"");let u=l.exec(t)[0];for(let s=0;s<statsEx.length;s++){let t=statsEx[s],o=Number(ratingEx.exec(t.exec(u)));o+=e[i[a]][n[s+2]];let l=t.exec(u)[0];u=u.replace(`${l}`,`${statStrings[s]}: ${o}`)}fs.writeFileSync(`./dist/src/players/active/${i[a]}.txt`,`${c}${u}`,{flag:"w"},(e=>{if(e)throw e}))}}catch(s){console.log(e),console.log(s)}}function statblockAdder(e){let s=fs.readFileSync("./dist/src/static/static.txt","utf8",((e,s)=>{e&&console.error(e)}));s=s.replace("Season 0",`\n\nSeason ${e.toString()}`);let t=fs.readFileSync("./dist/src/static/teamstatic.txt","utf8");t=t.replace("Season 0",`\n\nSeason ${e.toString()}`);let o=fs.readdirSync("./dist/src/players/active",((e,s)=>{}));for(let e=0;e<o.length;e++)fs.writeFileSync(`./dist/src/players/active/${o[e]}`,`${s}\n`,{flag:"a"},(e=>{if(e)throw e}));let l=fs.readdirSync("./dist/src/players/free agents");for(let e=0;e<l.length;e++){let t=fs.readdirSync(`./dist/src/players/free agents/${l[e]}`);for(let o=0;o<t.length;o++)fs.writeFileSync(`./dist/src/players/free agents/${l[e]}/${t[o]}`,`${s}\n`,{flag:"a"},(e=>{if(e)throw e}))}let i=fs.readdirSync("./dist/src/teams");for(let e=0;e<i.length;e++)fs.writeFileSync(`./dist/src/teams/${i[e]}`,`${t}\n`,{flag:"a"})}function statsToObject(e){let s,t,o=[],l=new RegExp(`Season ${e.toString()}:[^]*Total Outs Recorded: .?.?.?.?`);s=fs.readdirSync("./dist/src/teams",((e,s)=>{}));for(let e=0;e<s.length;e++){t=fs.readFileSync(`./dist/src/teams/${s[e]}`,"utf8",((e,s)=>{e&&console.error(e)}));let i=new RegExp("roster:[^.]*stats").exec(t)[0];i=i.replace("roster:",""),i=i.replace("stats","");let a=new RegExp(/\S.*\S/g),r=i.match(a);r.length>6&&(r=r.slice(0,6));for(let e=0;e<r.length;e++){let s={name:"",number:0,age:0,team:"",pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0},i=fs.readFileSync(`./dist/src/players/active/${r[e]}.txt`,"utf8",((e,s)=>{e&&console.error(e)})),a=new RegExp(/\d+/);null!==a.exec(r[e])&&(s.number=a.exec(r[e]));let n=l.exec(i)[0];s.name=nameExp.exec(i)[1],s.age=Number(ratingEx.exec(ageEx.exec(i))),s.team=nameExp.exec(t)[1],s.pointsScored=Number(pointsEx.exec(n)[1]),s.assists=Number(assistsEx.exec(n)[1]),s.assistpoints=Number(assistpointsEx.exec(n)[1]),s.brokentackles=Number(brokentacklesEx.exec(n)[1]),s.ballsfieldedoff=Number(ballsfieldedoffEx.exec(n)[1]),s.blocks=Number(blocksEx.exec(n)[1]),s.turnovers=Number(turnoversEx.exec(n)[1]),s.pitches=Number(pitchesEx.exec(n)[1]),s.strikes=Number(strikesEx.exec(n)[1]),s.balls=Number(ballsEx.exec(n)[1]),s.fouls=Number(foulsEx.exec(n)[1]),s.strikeoutspitching=Number(strikeoutspitchingEx.exec(n)[1]),s.ballouts=Number(balloutsEx.exec(n)[1]),s.slamsgiven=Number(slamsgivenEx.exec(n)[1]),s.atbats=Number(atbatsEx.exec(n)[1]),s.hits=Number(hitsEx.exec(n)[1]),s.slams=Number(slamsEx.exec(n)[1]),s.hitstoout=Number(hitstooutEx.exec(n)[1]),s.hitstooffense=Number(hitstooffenseEx.exec(n)[1]),s.foulouts=Number(fouloutsEx.exec(n)[1]),s.strikeoutsbatting=Number(strikeoutsbattingEx.exec(n)[1]),s.tackles=Number(tacklesEx.exec(n)[1]),s.blocksshed=Number(blocksshedEx.exec(n)[1]),s.interceptions=Number(interceptionsEx.exec(n)[1]),s.ballsfieldeddef=Number(ballsfieldeddefEx.exec(n)[1]),s.totaloutsrecorded=Number(totaloutsrecordedEx.exec(n)[1]),o.push(s)}}return o}function getTeamStats(e,s){let t={name:"",pointsScored:0,pointsagainst:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0};t.name=e;let o=[],l=new RegExp(`Season ${s.toString()}:[^]*Total Outs Recorded: .?.?.?.?`),i=fs.readFileSync(`./dist/src/teams/${e}.txt`,"utf8",((e,s)=>{e&&console.error(e)})),a=new RegExp("roster:[^]*stats").exec(i)[0];a=a.replace("roster:",""),a=a.replace("stats","");let r=new RegExp(/\S.*\S/g),n=a.match(r);n.length>6&&(n=n.slice(0,6));for(let e=0;e<n.length;e++){let s=fs.readFileSync(`./dist/src/players/active/${n[e]}.txt`,"utf8",((e,s)=>{e&&console.error(e)})),a={name:"",pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0},r=l.exec(s);a.name=nameExp.exec(s)[1],a.pointsScored=Number(pointsEx.exec(r)[1]),a.assists=Number(assistsEx.exec(r)[1]),a.assistpoints=Number(assistpointsEx.exec(r)[1]),a.brokentackles=Number(brokentacklesEx.exec(r)[1]),a.ballsfieldedoff=Number(ballsfieldedoffEx.exec(r)[1]),a.blocks=Number(blocksEx.exec(r)[1]),a.turnovers=Number(turnoversEx.exec(r)[1]),a.pitches=Number(pitchesEx.exec(r)[1]),a.strikes=Number(strikesEx.exec(r)[1]),a.balls=Number(ballsEx.exec(r)[1]),a.fouls=Number(foulsEx.exec(r)[1]),a.strikeoutspitching=Number(strikeoutspitchingEx.exec(r)[1]),a.ballouts=Number(balloutsEx.exec(r)[1]),a.slamsgiven=Number(slamsgivenEx.exec(r)[1]),a.atbats=Number(atbatsEx.exec(r)[1]),a.hits=Number(hitsEx.exec(r)[1]),a.slams=Number(slamsEx.exec(r)[1]),a.hitstoout=Number(hitstooutEx.exec(r)[1]),a.hitstooffense=Number(hitstooffenseEx.exec(r)[1]),a.foulouts=Number(fouloutsEx.exec(r)[1]),a.strikeoutsbatting=Number(strikeoutsbattingEx.exec(r)[1]),a.tackles=Number(tacklesEx.exec(r)[1]),a.blocksshed=Number(blocksshedEx.exec(r)[1]),a.interceptions=Number(interceptionsEx.exec(r)[1]),a.ballsfieldeddef=Number(ballsfieldeddefEx.exec(r)[1]),a.totaloutsrecorded=Number(totaloutsrecordedEx.exec(r)[1]),o.push(a);let c=pointsagainstEx.exec(i)[1];t.pointsagainst=Number(c),t.pointsScored=t.pointsScored+a.pointsScored,t.assists=t.assists+a.assists,t.assistpoints=t.assistpoints+a.assistpoints,t.brokentackles=t.brokentackles+a.brokentackles,t.ballsfieldedoff=t.ballsfieldedoff+a.ballsfieldedoff,t.blocks=t.blocks+a.blocks,t.turnovers=t.turnovers+a.turnovers,t.pitches=t.pitches+a.pitches,t.strikes=t.strikes+a.strikes,t.balls=t.balls+a.balls,t.fouls=t.fouls+a.fouls,t.strikeoutspitching=t.strikeoutspitching+a.strikeoutspitching,t.ballouts=t.ballouts+a.ballouts,t.slamsgiven=t.slamsgiven+a.slamsgiven,t.atbats=t.atbats+a.atbats,t.hits=t.hits+a.hits,t.slams=t.slams+a.slams,t.hitstoout=t.hitstoout+a.hitstoout,t.hitstooffense=t.hitstooffense+a.hitstooffense,t.foulouts=t.foulouts+a.foulouts,t.strikeoutsbatting=t.strikeoutsbatting+a.strikeoutsbatting,t.tackles=t.tackles+a.tackles,t.blocksshed=t.blocksshed+a.blocksshed,t.interceptions=t.interceptions+a.interceptions,t.ballsfieldeddef=t.ballsfieldeddef+a.ballsfieldeddef,t.totaloutsrecorded=t.totaloutsrecorded+a.totaloutsrecorded}return{team:t,roster:o}}function individualStats(e,s){let t=new RegExp(`Season ${s.toString()}:[^]*Total Outs Recorded: .?.?.?.?`),o=fs.readFileSync(`./dist/src/players/active/${e}.txt`,"utf8",((s,t)=>{s&&fs.readFileSync(`./dist/src/players/retired/${e}.txt`,"utf8",((s,t)=>{s&&fs.readFileSync(`./dist/src/players/free agents/${e}.txt`,"utf8",((e,s)=>{e&&console.log(e)}))}))})),l={name:"",pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0},i=t.exec(o)[0];return l.name=nameExp.exec(o)[1],l.pointsScored=Number(pointsEx.exec(i)[1]),l.assists=Number(assistsEx.exec(i)[1]),l.assistpoints=Number(assistpointsEx.exec(i)[1]),l.brokentackles=Number(brokentacklesEx.exec(i)[1]),l.ballsfieldedoff=Number(ballsfieldedoffEx.exec(i)[1]),l.blocks=Number(blocksEx.exec(i)[1]),l.turnovers=Number(turnoversEx.exec(i)[1]),l.pitches=Number(pitchesEx.exec(i)[1]),l.strikes=Number(strikesEx.exec(i)[1]),l.balls=Number(ballsEx.exec(i)[1]),l.fouls=Number(foulsEx.exec(i)[1]),l.strikeoutspitching=Number(strikeoutspitchingEx.exec(i)[1]),l.ballouts=Number(balloutsEx.exec(i)[1]),l.slamsgiven=Number(slamsgivenEx.exec(i)[1]),l.atbats=Number(atbatsEx.exec(i)[1]),l.hits=Number(hitsEx.exec(i)[1]),l.slams=Number(slamsEx.exec(i)[1]),l.hitstoout=Number(hitstooutEx.exec(i)[1]),l.hitstooffense=Number(hitstooffenseEx.exec(i)[1]),l.foulouts=Number(fouloutsEx.exec(i)[1]),l.strikeoutsbatting=Number(strikeoutsbattingEx.exec(i)[1]),l.tackles=Number(tacklesEx.exec(i)[1]),l.blocksshed=Number(blocksshedEx.exec(i)[1]),l.interceptions=Number(interceptionsEx.exec(i)[1]),l.ballsfieldeddef=Number(ballsfieldeddefEx.exec(i)[1]),l.totaloutsrecorded=Number(totaloutsrecordedEx.exec(i)[1]),l}function careerStats(e,s){let t={name:"",team:"",age:0,pointsScored:0,assists:0,assistpoints:0,brokentackles:0,ballsfieldedoff:0,blocks:0,turnovers:0,pitches:0,strikes:0,balls:0,fouls:0,strikeoutspitching:0,ballouts:0,slamsgiven:0,atbats:0,hits:0,slams:0,hitstoout:0,hitstooffense:0,foulouts:0,strikeoutsbatting:0,tackles:0,blocksshed:0,interceptions:0,ballsfieldeddef:0,totaloutsrecorded:0},o=fs.readFileSync(`./dist/src/players/active/${e}.txt`,"utf8",((s,t)=>{s&&fs.readFileSync(`./dist/src/players/retired/${e}.txt`,"utf8",((s,t)=>{s&&fs.readFileSync(`./dist/src/players/free agents/${e}.txt`,"utf8",((e,s)=>{e&&console.log(e)}))}))}));try{t.name=nameExp.exec(o)[1];for(let e=0;e<s.length;e++){let l=new RegExp(`Season ${s[e].toString()}:[^]*Total Outs Recorded: .?.?.?.?`).exec(o)[0];t.age=Number(ratingEx.exec(ageEx.exec(o))),t.pointsScored=t.pointsScored+Number(pointsEx.exec(l)[1]),t.assists=t.assists+Number(assistsEx.exec(l)[1]),t.assistpoints=t.assistpoints+Number(assistpointsEx.exec(l)[1]),t.brokentackles=t.brokentackles+Number(brokentacklesEx.exec(l)[1]),t.ballsfieldedoff=t.ballsfieldedoff+Number(ballsfieldedoffEx.exec(l)[1]),t.blocks=t.blocks+Number(blocksEx.exec(l)[1]),t.turnovers=t.turnovers+Number(turnoversEx.exec(l)[1]),t.pitches=t.pitches+Number(pitchesEx.exec(l)[1]),t.strikes=t.strikes+Number(strikesEx.exec(l)[1]),t.balls=t.balls+Number(ballsEx.exec(l)[1]),t.fouls=t.fouls+Number(foulsEx.exec(l)[1]),t.strikeoutspitching=t.strikeoutspitching+Number(strikeoutspitchingEx.exec(l)[1]),t.ballouts=t.ballouts+Number(balloutsEx.exec(l)[1]),t.slamsgiven=t.slamsgiven+Number(slamsgivenEx.exec(l)[1]),t.atbats=t.atbats+Number(atbatsEx.exec(l)[1]),t.hits=t.hits+Number(hitsEx.exec(l)[1]),t.slams=t.slams+Number(slamsEx.exec(l)[1]),t.hitstoout=t.hitstoout+Number(hitstooutEx.exec(l)[1]),t.hitstooffense=t.hitstooffense+Number(hitstooffenseEx.exec(l)[1]),t.foulouts=t.foulouts+Number(fouloutsEx.exec(l)[1]),t.strikeoutsbatting=t.strikeoutsbatting+Number(strikeoutsbattingEx.exec(l)[1]),t.tackles=t.tackles+Number(tacklesEx.exec(l)[1]),t.blocksshed=t.blocksshed+Number(blocksshedEx.exec(l)[1]),t.interceptions=t.interceptions+Number(interceptionsEx.exec(l)[1]),t.ballsfieldeddef=t.ballsfieldeddef+Number(ballsfieldeddefEx.exec(l)[1]),t.totaloutsrecorded=t.totaloutsrecorded+Number(totaloutsrecordedEx.exec(l)[1])}}catch(s){console.log(e)}return t}function seasonReplace(){let e=fs.readdirSync("./dist/src/players",((e,s)=>{}));for(let s=0;s<e.length;s++){let t=fs.readFileSync(`./dist/src/players/active/${e[s]}`,"utf8");t=t.replace("Season 1","Season 2023"),fs.writeFileSync(`./dist/src/players/active/${e[s]}`,t,{flag:"w"})}}let pointsagainstEx=new RegExp(/Points Against: (\d+)/),winsEx=new RegExp(/Wins: (\d+)/),lossesEx=new RegExp(/Losses: (\d+)/),tiesEx=new RegExp(/Ties: (\d+)/),leagueEx=new RegExp(/League: (\w+)/);function updateTeamStats(e,s,t,o,l,i=!1){let a=fs.readFileSync(`./dist/src/teams/${t}.txt`,"utf8"),r=fs.readFileSync(`./dist/src/teams/${o}.txt`,"utf8"),n=new RegExp(`Season ${l.toString()}[^]*League: .+`),c="";c=e>s?"home":e==s?"tie":"away";let u=n.exec(a)[0],x=n.exec(r)[0],b=Number(pointsagainstEx.exec(u)[1])+s,d=Number(pointsagainstEx.exec(x)[1])+e,f=Number(winsEx.exec(u)[1]),m=Number(winsEx.exec(x)[1]),p=Number(lossesEx.exec(u)[1]),k=Number(lossesEx.exec(x)[1]),E=Number(tiesEx.exec(u)[1]),g=Number(tiesEx.exec(x)[1]);"home"==c?(f+=1,k+=1):"tie"==c?(E+=1,g+=1):(m+=1,p+=1),0==i&&(u=u.replace(pointsagainstEx.exec(u)[0],`Points Against: ${b}`)),u=u.replace(winsEx.exec(u)[0],`Wins: ${f}`),u=u.replace(lossesEx.exec(u)[0],`Losses: ${p}`),u=u.replace(tiesEx.exec(u)[0],`Ties: ${E}`),0==i&&(x=x.replace(pointsagainstEx.exec(x)[0],`Points Against: ${d}`)),x=x.replace(winsEx.exec(x)[0],`Wins: ${m}`),x=x.replace(lossesEx.exec(x)[0],`Losses: ${k}`),x=x.replace(tiesEx.exec(x)[0],`Ties: ${g}`),a=a.replace(n.exec(a)[0],u),r=r.replace(n.exec(r)[0],x),fs.writeFileSync(`./dist/src/teams/${t}.txt`,`${a}`,{flag:"w"}),fs.writeFileSync(`./dist/src/teams/${o}.txt`,`${r}`,{flag:"w"})}function powerScore(e,s){let t=teamToObject(e),o=fs.readFileSync(`./dist/src/teams/${e}.txt`,"utf8"),l=10*Number(winsEx.exec(o)[1]),i=0;return Math.round(10*l+3*i+7*(()=>{let e=0;for(let s=0;s<t.roster.length;s++){let o=(t.roster[s].power+t.roster[s].speed+t.roster[s].eye+t.roster[s].tackle+t.roster[s].breaktackle+t.roster[s].block+t.roster[s].breakblock+t.roster[s].awareness)/8;e+=o,o>i&&(i=o)}return e/=6,e})()+5*(()=>{let t=getTeamStats(e,s),l=Number(pointsagainstEx.exec(o)[1]),i=t.team.pointsScored-l;return i<0?0:i})())}function gameTextSplitter(e,s,t,o,l){let i=fs.readFileSync(`./dist/src/games history/${t}/${o}/${l} ${s} @ ${e}.txt`,"utf8"),a=new RegExp(/Game \d/g),r=i.match(a),n=1;r.length>1&&(n=r.length);let c=new RegExp(`Game ${n}[^]*`,"g"),u=i.match(c)[0];u=u.replace("Game ","");let x=new RegExp(/.+.|!/g);return u.match(x)}export{GameStats,gameTextSplitter,powerScore,teamToObject,statsToObject,updateStats,getTeamStats,playerToObject,statblockAdder,individualStats,careerStats,nameExp,updateTeamStats};